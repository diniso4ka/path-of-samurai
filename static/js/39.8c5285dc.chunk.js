"use strict";(self.webpackChunkpath_of_samurai=self.webpackChunkpath_of_samurai||[]).push([[39],{6039:function(t,e,n){n.r(e),n.d(e,{default:function(){return F}});var r=n(1413),a=n(4165),s=n(5861),c=n(885),o=n(2791),i={profile_wrapper:"Profile_profile_wrapper__1sQ9M"},u=n(7689),l=n(3829),f={},p=n(257),_=n(3153),x=n(184),d=function(t){var e=t.id,n=(0,_.C)((function(t){return t.user.user})),r=(0,_.C)((function(t){return t.profile.profileStatus})),i=r.status,u=r.statusText,l=(0,_.T)(),d=o.useState(!1),m=(0,c.Z)(d,2),h=m[0],j=m[1],v=o.useState(""),w=(0,c.Z)(v,2),g=w[0],k=w[1],N=function(){k(u)},I=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j(!h),u===g){t.next=6;break}return t.next=4,l((0,p.Tf)(g));case 4:return t.next=6,l((0,p.lR)(e));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return o.useEffect((function(){l((0,p.lR)(e)),N()}),[]),o.useEffect((function(){N()}),[u]),"loading"===i?(0,x.jsx)("div",{children:"...loading"}):(0,x.jsx)("section",{className:f.wrapper,children:h&&e===n.id?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("input",{onChange:function(t){return k(t.target.value)},value:g,type:"text"}),(0,x.jsx)("button",{onClick:I,children:"edit"})]}):(0,x.jsx)("p",{onClick:function(){return j(!h)},children:g||"status"})})},m={info_wrapper:"Info_info_wrapper__T2N7o",text_wrapper:"Info_text_wrapper__EPW6L",photo:"Info_photo__ZiQqB",avatar:"Info_avatar__4RCoU",text__name:"Info_text__name__qIFfk",contactsItem:"Info_contactsItem__RGUqV"},h=n(4353),j=function(t){var e=t.data,n=t.isOwner,r=t.handleClick;return(0,x.jsxs)("section",{className:m.info_wrapper,children:[(0,x.jsxs)("div",{className:m.photo,children:[(0,x.jsx)("img",{src:e.photos.large?e.photos.large:h,className:m.avatar}),n&&(0,x.jsx)("input",{onChange:function(t){return r(t)},type:"file"})]}),(0,x.jsxs)("div",{className:m.text_wrapper,children:[(0,x.jsx)("p",{className:m.text__name,children:e.fullName}),(0,x.jsxs)("ul",{className:m.contacts,children:[(0,x.jsxs)("li",{className:m.contactsItem,children:["Facebook: ",e.contacts.facebook]}),(0,x.jsxs)("li",{className:m.contactsItem,children:["Github: ",e.contacts.github]}),(0,x.jsxs)("li",{className:m.contactsItem,children:["Instagram: ",e.contacts.instagram]}),(0,x.jsxs)("li",{className:m.contactsItem,children:["Vk: ",e.contacts.vk]})]}),(0,x.jsx)("p",{className:m.text__birthday,children:e.lookingForAJob?"Looking for a job: ".concat(e.lookingForAJobDescription):""})]})]})},v="PostBlock_wrapper__VnWJz",w="PostBlock_post_items__9TGFJ",g="PostItem_wrapper__NOGvx",k="PostItem_avatar__67uKj",N="PostItem_text__ddKOV",I="PostItem_name__Ye5-m",Z=function(t){var e=t.text,n=t.avatar,r=t.name;return(0,x.jsxs)("section",{className:g,children:[(0,x.jsx)("img",{src:n||"https://\u0440\u0430\u0431\u043e\u0442\u0430\u0437\u0430\u0431\u043a\u0440\u0430\u0439.\u0440\u0444/static/img/cabinet.png",className:k}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:I,children:r}),(0,x.jsx)("p",{className:N,children:e})]})]})},C=n(3531),b="AddPostBlock_wrapper__NuwqI",P=function(t){var e=t.createPost,n=t.onPostChange,r=t.newPostText,a=o.useRef(null);return(0,x.jsxs)("section",{className:b,children:[(0,x.jsx)("input",{ref:a,value:r,onChange:function(){return n(a.current.value)},type:"text"}),(0,x.jsx)("button",{onClick:e,children:"send"})]})},T=(0,C.$j)((function(t){return{newPostText:t.dialogs.newMessageText}}),(function(t){return{createPost:function(){t((0,p.z4)())},onPostChange:function(e){t((0,p.x1)(e))}}}))(P),y=function(){var t=(0,_.C)((function(t){return t.profile})).posts;return(0,x.jsxs)("section",{className:v,children:[(0,x.jsx)(T,{}),(0,x.jsx)("div",{className:w,children:t.map((function(t){return(0,x.jsx)(Z,{name:t.name,text:t.message,avatar:t.avatar?t.avatar:""},t.id)}))})]})},F=function(){var t=(0,_.C)((function(t){return t.user.user})),e=(0,_.T)(),n=o.useState(null),f=(0,c.Z)(n,2),m=f[0],h=f[1],v=(0,u.UO)().id,w=(0,u.TH)(),g=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(n){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).append("image",n.target.files[0]),t.next=4,e((0,p.UI)(r));case 4:return t.next=6,k();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,l.BT)(t.id).then((function(t){h((function(e){return(0,r.Z)({},t)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,l.BT)(e).then((function(t){h((function(e){return(0,r.Z)({},t)}))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return o.useEffect((function(){v?N(v):k()}),[w]),m?(0,x.jsxs)("main",{className:"".concat(i.profile_wrapper," ").concat(i.page_wrapper),children:[(0,x.jsx)(j,{handleClick:g,data:m,isOwner:!v}),(0,x.jsx)(d,{id:v?+v:t.id}),(0,x.jsx)(y,{})]}):(0,x.jsx)("div",{children:"Loading..."})}},4353:function(t,e,n){t.exports=n.p+"static/media/user.1c2ebecc95277d9b446f.png"}}]);
//# sourceMappingURL=39.8c5285dc.chunk.js.map