"use strict";(self.webpackChunkpath_of_samurai=self.webpackChunkpath_of_samurai||[]).push([[94],{5094:function(t,e,n){n.r(e),n.d(e,{default:function(){return F}});var a=n(1413),s=n(885),r=n(2791),c={profile_wrapper:"Profile_profile_wrapper__1sQ9M"},o=n(7689),i=n(3531),u=n(5733),l=n(4165),f=n(5861),p={},_=n(2821),x=n(184),d=function(t){var e=t.id,n=(0,i.v9)((function(t){return t.user.user})),a=(0,i.v9)((function(t){return t.profile.profileStatus})),c=a.status,o=a.statusText,u=(0,i.I0)(),d=r.useState(!1),m=(0,s.Z)(d,2),h=m[0],j=m[1],v=r.useState(""),g=(0,s.Z)(v,2),N=g[0],w=g[1],k=function(){w(o)},I=function(){var t=(0,f.Z)((0,l.Z)().mark((function t(){return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j(!h),o===N){t.next=6;break}return t.next=4,u((0,_.Tf)(N));case 4:return t.next=6,u((0,_.lR)(e));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.useEffect((function(){u((0,_.lR)(e)),k()}),[]),r.useEffect((function(){k()}),[o]),"loading"===c?(0,x.jsx)("div",{children:"...loading"}):(0,x.jsx)("section",{className:p.wrapper,children:h&&e===n.id?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("input",{onChange:function(t){return w(t.target.value)},value:N,type:"text"}),(0,x.jsx)("button",{onClick:I,children:"edit"})]}):(0,x.jsx)("p",{onClick:function(){return j(!h)},children:N||"status"})})},m={info_wrapper:"Info_info_wrapper__T2N7o",text_wrapper:"Info_text_wrapper__EPW6L",avatar:"Info_avatar__4RCoU",text__name:"Info_text__name__qIFfk",contactsItem:"Info_contactsItem__RGUqV"},h=n(4353),j=function(t){var e=t.data;return console.log(e),(0,x.jsxs)("section",{className:m.info_wrapper,children:[(0,x.jsx)("img",{src:e.photos.large?e.photos.large:h,className:m.avatar}),(0,x.jsxs)("div",{className:m.text_wrapper,children:[(0,x.jsx)("p",{className:m.text__name,children:e.fullName}),(0,x.jsxs)("ul",{className:m.contacts,children:[(0,x.jsxs)("li",{className:m.contactsItem,children:["Facebook: ",e.contacts.facebook]}),(0,x.jsxs)("li",{className:m.contactsItem,children:["Github: ",e.contacts.github]}),(0,x.jsxs)("li",{className:m.contactsItem,children:["Instagram: ",e.contacts.instagram]}),(0,x.jsxs)("li",{className:m.contactsItem,children:["Vk: ",e.contacts.vk]})]}),(0,x.jsx)("p",{className:m.text__birthday,children:e.lookingForAJob?"Looking for a job: ".concat(e.lookingForAJobDescription):""})]})]})},v="PostBlock_wrapper__VnWJz",g="PostBlock_post_items__9TGFJ",N="PostItem_wrapper__NOGvx",w="PostItem_avatar__67uKj",k="PostItem_text__ddKOV",I="PostItem_name__Ye5-m",b=function(t){var e=t.text,n=t.avatar,a=t.name;return(0,x.jsxs)("section",{className:N,children:[(0,x.jsx)("img",{src:n||"https://\u0440\u0430\u0431\u043e\u0442\u0430\u0437\u0430\u0431\u043a\u0440\u0430\u0439.\u0440\u0444/static/img/cabinet.png",className:w}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:I,children:a}),(0,x.jsx)("p",{className:k,children:e})]})]})},P="AddPostBlock_wrapper__NuwqI",C=function(t){var e=t.createPost,n=t.onPostChange,a=t.newPostText,s=r.useRef();return(0,x.jsxs)("section",{className:P,children:[(0,x.jsx)("input",{ref:s,value:a,onChange:function(){return n(s.current.value)},type:"text"}),(0,x.jsx)("button",{onClick:e,children:"send"})]})},T=(0,i.$j)((function(t){return{newPostText:t.dialogs.newPostText}}),(function(t){return{createPost:function(){t((0,_.z4)())},onPostChange:function(e){t((0,_.x1)(e))}}}))(C),Z=function(){var t=(0,i.v9)((function(t){return t.profile})).posts;return(0,x.jsxs)("section",{className:v,children:[(0,x.jsx)(T,{}),(0,x.jsx)("div",{className:g,children:t.map((function(t){return(0,x.jsx)(b,{name:t.name,text:t.message,avatar:t.avatar?t.avatar:""},t.id)}))})]})},F=function(){var t=(0,i.v9)((function(t){return t.user.user})),e=r.useState(null),n=(0,s.Z)(e,2),l=n[0],f=n[1],p=(0,o.UO)().id,_=(0,o.TH)();return r.useEffect((function(){p?(0,u.BT)(p).then((function(t){f((function(e){return(0,a.Z)({},t)}))})):(0,u.BT)(t.id).then((function(t){f((function(e){return(0,a.Z)({},t)}))}))}),[_]),l?(0,x.jsxs)("main",{className:"".concat(c.profile_wrapper," ").concat(c.page_wrapper),children:[(0,x.jsx)(j,{data:l}),(0,x.jsx)(d,{id:p||t.id}),(0,x.jsx)(Z,{})]}):(0,x.jsx)("div",{children:"Loading..."})}},4353:function(t,e,n){t.exports=n.p+"static/media/user.1c2ebecc95277d9b446f.png"}}]);
//# sourceMappingURL=94.c0b612e1.chunk.js.map