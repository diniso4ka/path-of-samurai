"use strict";(self.webpackChunkpath_of_samurai=self.webpackChunkpath_of_samurai||[]).push([[215],{3215:function(n,e,a){a.r(e),a.d(e,{default:function(){return N}});var t=a(2791),i=a(3531),r=a(8916),s={page_wrapper:"UsersBlock_page_wrapper__Zn8Z+",pagination:"UsersBlock_pagination__0IHIA",pagination_item:"UsersBlock_pagination_item__wvc3h",active:"UsersBlock_active__-1Em7"},c=a(4353),o=a(4165),u=a(5861),l=a(885),p={user_wrapper:"UserItem_user_wrapper__OIe2o",avatar:"UserItem_avatar__d2OAN"},g=a(1087),d=a(2186),m=a(5733),_=a(184),f=function(n){var e=n.avatar,a=n.name,i=n.followed,r=n.id,s=t.useState(i),c=(0,l.Z)(s,2),f=c[0],h=c[1],v=function(){var n=(0,u.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,m.b_)(r).then((function(n){0===n&&h(!0)}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),x=function(){var n=(0,u.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,m.Au)(r).then((function(n){0===n&&h(!1)}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,_.jsxs)("div",{className:"".concat(p.user_wrapper," ").concat(p.page_wrapper),children:[(0,_.jsxs)("div",{className:p.main,children:[(0,_.jsx)(g.rU,{to:(0,d.JW)(r),children:(0,_.jsx)("img",{src:e,className:p.avatar})}),(0,_.jsx)("div",{className:p.name,children:a})]}),(0,_.jsx)("div",{className:p.sub,children:f?(0,_.jsx)("button",{onClick:x,children:"unfollow"}):(0,_.jsx)("button",{onClick:v,children:"follow"})})]})},h={pagination:"Pagination_pagination__k3fg5",pagination_item:"Pagination_pagination_item__ZpnyY",active:"Pagination_active__I76GS"},v=function(n){var e=n.getCurrentPage,a=n.totalPages,t=n.currentPage,i=function(n){e(n)};return(0,_.jsx)("main",{className:"".concat(h.users_wrapper," ").concat(h.page_wrapper),children:a&&(0,_.jsxs)("div",{className:h.pagination,children:[2===+t&&(0,_.jsx)("div",{onClick:function(n){return i(n.target.innerHTML)},className:h.pagination_item,children:1}),3===+t&&(0,_.jsx)("div",{onClick:function(n){return i(n.target.innerHTML)},className:h.pagination_item,children:1}),3===+t&&(0,_.jsx)("div",{onClick:function(n){return i(n.target.innerHTML)},className:h.pagination_item,children:2}),+t>3&&(0,_.jsx)("div",{onClick:function(n){return i(n.target.innerHTML)},className:h.pagination_item,children:t-3}),+t>3&&(0,_.jsx)("div",{onClick:function(n){return i(n.target.innerHTML)},className:h.pagination_item,children:t-2}),+t>3&&(0,_.jsx)("div",{onClick:function(n){return i(n.target.innerHTML)},className:h.pagination_item,children:t-1}),(0,_.jsx)("div",{onClick:function(n){return i(n.target.innerHTML)},className:"".concat(h.pagination_item," ").concat(h.active),children:t}),(0,_.jsx)("div",{onClick:function(n){return i(n.target.innerHTML)},className:h.pagination_item,children:+t+1}),(0,_.jsx)("div",{onClick:function(n){return i(n.target.innerHTML)},className:h.pagination_item,children:+t+2}),(0,_.jsx)("div",{onClick:function(n){return i(n.target.innerHTML)},className:h.pagination_item,children:+t+3}),+t<=3&&(0,_.jsx)("div",{onClick:function(n){return i(n.target.innerHTML)},className:h.pagination_item,children:+t+4}),+t<=2&&(0,_.jsx)("div",{onClick:function(n){return i(n.target.innerHTML)},className:h.pagination_item,children:+t+5}),+t<=1&&(0,_.jsx)("div",{onClick:function(n){return i(n.target.innerHTML)},className:h.pagination_item,children:+t+6})]})})},x=(0,i.$j)((function(n){return{totalPages:n.users.totalPages,currentPage:n.users.currentPage}}),(function(n){return{getCurrentPage:function(e){n((0,r.FZ)(e))}}}))(v),j=function(n){var e=n.users,a=n.currentPage,o=n.status,u=(0,i.I0)();return t.useEffect((function(){u((0,r.QA)())}),[]),t.useEffect((function(){u((0,r.iI)(a))}),[a]),"loading"===o?(0,_.jsx)("div",{children:"...loading"}):(0,_.jsxs)("main",{className:"".concat(s.users_wrapper," ").concat(s.page_wrapper),children:[(0,_.jsx)("div",{className:s.items,children:e?e.map((function(n){return(0,_.jsx)(f,{followed:n.followed,avatar:n.photos.small?n.photos.small:c,name:n.name,id:n.id},n.id)})):null}),(0,_.jsx)(x,{})]})},k=(0,i.$j)((function(n){return{users:n.users.users,currentPage:n.users.currentPage,loading:n.users.loading,status:n.users.status}}),(function(n){return{getCurrentPage:function(e){n((0,r.FZ)(e))}}}))(j),N=function(){return(0,_.jsx)("main",{children:(0,_.jsx)(k,{})})}},4353:function(n,e,a){n.exports=a.p+"static/media/user.1c2ebecc95277d9b446f.png"}}]);
//# sourceMappingURL=215.874f4770.chunk.js.map